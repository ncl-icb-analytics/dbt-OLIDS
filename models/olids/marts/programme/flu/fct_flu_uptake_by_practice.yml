version: 2

models:
  - name: fct_flu_uptake_by_practice
    description: 'Simplified flu vaccination uptake by practice and eligibility criterion.

      Key Features:

      • One row per eligibility criterion per practice

      • Includes TOTAL row for each practice

      • Focus on core uptake metrics

      • Easy filtering and aggregation

      Purpose: Enables flexible analysis of uptake by eligibility criterion with simple structure for reporting.'
    
    columns:
      - name: campaign_id
        description: Campaign identifier
        
      - name: practice_code
        description: Practice ODS code
        
      - name: practice_name
        description: Practice name
        
      - name: pcn_code
        description: Primary Care Network code
        
      - name: pcn_name
        description: Primary Care Network name
        
      - name: practice_borough
        description: Borough where practice is located
        
      - name: practice_neighbourhood
        description: Practice neighbourhood
        
      - name: eligibility_criterion
        description: 'Specific eligibility criterion (risk_group) or TOTAL for practice summary'
        
      - name: eligible_population
        description: Count of eligible patients for this criterion at this practice
        
      - name: vaccinated_count
        description: Count of vaccinated patients for this criterion
        
      - name: declined_count
        description: Count of patients who declined vaccination
        
      - name: no_record_count
        description: Count of eligible patients with no vaccination record
        
      - name: laiv_given_count
        description: Count of patients who received LAIV vaccine
        
      - name: uptake_rate
        description: Vaccination coverage percentage
        
      - name: declination_rate
        description: Percentage who declined vaccination
        
      - name: no_record_rate
        description: Percentage with no vaccination record
        
      - name: laiv_proportion
        description: Percentage of vaccinated who received LAIV
        
      - name: coverage_gap
        description: Number of eligible patients not vaccinated
        
      - name: created_at
        description: Timestamp when record was created