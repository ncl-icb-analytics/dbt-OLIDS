version: 2
models:
- name: int_cancer_diagnoses_all
  tests:
  - cluster_ids_exist:
      cluster_ids: CAN_COD
  description: 'Intermediate: Cancer Diagnoses All - Complete history of all cancer diagnosis observations for QOF register management.


    Clinical Purpose:

    • QOF cancer register data collection and monitoring

    • Cancer care pathway coordination and treatment tracking

    • Oncology service utilisation and quality improvement

    • Resolution and remission status tracking


    Data Granularity:

    • One row per cancer diagnosis observation

    • Uses CAN_COD cluster for QOF-compliant cancer diagnosis identification

    • Includes all patients regardless of status for comprehensive QOF reporting


    Key Features:

    • Comprehensive cancer diagnosis tracking across all age groups

    • No specific age restrictions for cancer register inclusion

    • Resolution and remission monitoring capability

    • Critical for cancer care quality indicators and pathway management'

  columns:
  - name: person_id
    description: Unique person identifier

    tests:
    - not_null
    - relationships:
        to: ref('dim_person')
        field: person_id
