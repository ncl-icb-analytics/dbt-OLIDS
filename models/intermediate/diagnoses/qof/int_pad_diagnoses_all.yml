version: 2
models:
- name: int_pad_diagnoses_all
  tests:
  - cluster_ids_exist:
      cluster_ids: PAD_COD
  description: "All peripheral arterial disease (PAD) diagnoses from clinical records.\nUses QOF cluster ID PAD_COD for all\
    \ forms of PAD diagnosis.\n\nClinical Purpose:\n- PAD register inclusion for QOF cardiovascular disease management\n-\
    \ Cardiovascular risk stratification and monitoring  \n- Secondary prevention pathway identification\n\nQOF Context:\n\
    PAD register follows simple diagnosis-only pattern - any PAD diagnosis code qualifies \nfor register inclusion. No resolution\
    \ codes or complex criteria. This is a lifelong \ncondition register for cardiovascular secondary prevention.\n\nKey Clinical\
    \ Notes:\n- PAD is considered a permanent condition (no resolution codes)\n- Register inclusion based purely on presence\
    \ of diagnostic codes\n- Important for secondary prevention medication monitoring\n- No age restrictions for PAD register\n\
    \nIncludes ALL persons (active, inactive, deceased) following intermediate layer principles.\nUse this model as input\
    \ for PAD register and cardiovascular risk models.\n"
  columns:
  - name: person_id
    description: Unique person identifier
    tests:
    - not_null
    - relationships:
        to: ref('dim_person')
        field: person_id
