version: 2
models:
- name: int_familial_hypercholesterolaemia_diagnoses_all
  tests:
  - cluster_ids_exist:
      cluster_ids: FHYP_COD
  description: "All familial hypercholesterolaemia (FH) diagnoses from clinical records.\nUses QOF cluster ID FHYP_COD for\
    \ familial hypercholesterolaemia diagnosis codes.\n\nClinical Purpose:\n- FH register inclusion for QOF quality measures\n\
    - Familial hypercholesterolaemia cascade screening\n- High-intensity statin therapy monitoring\n\nQOF Context:\nFH register\
    \ follows simple diagnosis-only pattern - any FH diagnosis qualifies for \nregister inclusion. No resolution codes or\
    \ complex criteria.\nThis supports FH quality measures and cascade family screening programmes.\n\nKey Clinical Notes:\n\
    - FH is considered a permanent genetic condition (no resolution codes)\n- Register inclusion based purely on presence\
    \ of diagnostic codes\n- Important for cascade family screening programmes\n- Critical for high-intensity statin therapy\
    \ decisions\n\nIncludes ALL persons (active, inactive, deceased) following intermediate layer principles.\nUse this model\
    \ as input for FH register.\n"
  columns:
  - name: person_id
    description: Unique person identifier
    tests:
    - not_null
    - relationships:
        to: ref('dim_person')
        field: person_id
