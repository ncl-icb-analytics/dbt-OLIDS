version: 2
models:
  - name: int_nhs_health_check_all
    description: 'Intermediate: NHS Health Check All - All NHS Health Check completion events with enhanced analytics features.


      Clinical Purpose:

      • Tracks all NHS Health Check completion events for programme analysis and reporting

      • Supports health check type classification and eligibility assessment for 40-74 age group

      • Enables comprehensive time-based analysis and currency tracking for health checks

      • Provides foundation data for QOF prevention pathway integration and risk factor assessment


      Data Granularity:

      • One row per NHS Health Check completion observation for all persons (active, inactive, deceased)

      • Includes standard, initial, follow-up health checks, and cardiovascular risk assessments

      • Contains enhanced time calculations and health check currency flags (12m, 24m, 5y intervals)

      • Covers all patients with recorded NHS Health Check completion codes


      Key Features:

      • Cluster ID: HEALTH_CHECK_COMP with validated SNOMED codes for completed health checks

      • Enhanced analytics: type classification, eligibility assessment, timeframe analysis

      • QOF prevention pathway integration support with 5-year cycle tracking • Comprehensive health check status interpretation and clinical context flags'
    tests:
      - cluster_ids_exist:
          arguments:
            cluster_ids: HEALTH_CHECK_COMP
