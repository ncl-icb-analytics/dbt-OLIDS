version: 2

models:
  - name: int_valproate_psychiatry_events
    description: "Intermediate table extracting all psychiatry-related events for each person, using mapped concepts, observation, and valproate program codes (category PSYCH)."
    columns:
      - name: person_id
        description: "Unique identifier for the person."
        tests:
          - not_null
      - name: psych_event_date
        description: "Date of the psychiatry-related observation."
      - name: psych_observation_id
        description: "Identifier for the psychiatry observation."
      - name: psych_concept_code
        description: "Medical concept code for the psychiatry event."
      - name: psych_concept_display
        description: "Display term for the psychiatry concept code."
      - name: psych_code_category
        description: "Code category for the psychiatry event (should be 'PSYCH')."
