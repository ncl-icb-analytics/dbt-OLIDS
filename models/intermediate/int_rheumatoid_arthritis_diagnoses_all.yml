version: 2
models:
- name: int_rheumatoid_arthritis_diagnoses_all
  tests:
  - test_cluster_ids_exist:
      cluster_ids: RA_COD
  description: "All rheumatoid arthritis (RA) diagnoses from clinical records.\nUses QOF cluster ID RARTH_COD for rheumatoid\
    \ arthritis diagnosis codes.\n\nClinical Purpose:\n- RA register inclusion for QOF quality measures\n- Rheumatoid arthritis\
    \ disease management monitoring\n- DMARDs (Disease-Modifying Anti-Rheumatic Drugs) prescribing support\n\nQOF Context:\n\
    RA register follows simple diagnosis-only pattern with age restriction - any RA diagnosis \nfor patients aged 16+ qualifies\
    \ for register inclusion. No resolution codes.\nThis supports RA quality measures and specialist care monitoring.\n\n\
    Key Clinical Notes:\n- RA is considered a permanent condition (no resolution codes)\n- Register inclusion requires age\
    \ \u226516 years at diagnosis\n- Important for DMARDs therapy monitoring\n- Supports rheumatology care pathways\n\nIncludes\
    \ ALL persons (active, inactive, deceased) following intermediate layer principles.\nUse this model as input for RA register\
    \ (with age filtering applied in fact layer).\n"
  columns:
  - name: person_id
    description: Unique person identifier
    tests:
    - not_null
    - relationships:
        to: ref('dim_person')
        field: person_id
