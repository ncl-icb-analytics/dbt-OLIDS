version: 2
models:
- name: fct_person_pad_register
  description: "**PAD Register - QOF Cardiovascular Disease Quality Measures**\n\nFact table for PAD register following simple\
    \ register pattern. All patients with any PAD \ndiagnosis are included on the register as PAD is considered a permanent\
    \ condition.\n\nSimple Register Business Logic:\n- Presence of PAD diagnosis = on register (lifelong condition)\n- No\
    \ resolution codes (PAD is permanent)\n- No age restrictions\n- Important for secondary prevention monitoring\n\nQOF Context:\n\
    Used for cardiovascular disease secondary prevention quality measures including:\n- Medication monitoring (statins, antiplatelets,\
    \ ACE inhibitors)\n- Blood pressure management targets\n- Cholesterol management\n- Limb preservation and vascular health\
    \ monitoring\n"
  columns:
  - name: person_id
    description: Unique person identifier
    tests:
    - not_null
    - relationships:
        to: ref('dim_person')
        field: person_id
  - name: is_on_register
    description: 'Register flag: has PAD diagnosis (always TRUE for this table)'
    tests:
    - not_null
    - accepted_values:
        values:
        - true
  - name: earliest_diagnosis_date
    description: Date of most recent PAD diagnosis
    tests:
    - not_null
    - test_no_future_dates
