version: 2
models:
- name: dim_ltc_lcs_cf_dm_63
  description: 'Case finding for patients with borderline HbA1c levels requiring diabetes surveillance.


    Business Logic:

    • Identifies patients aged 17+ with latest HbA1c between 46-47 mmol/mol (borderline pre-diabetic)

    • Targets patients lacking recent diabetes monitoring and requiring enhanced surveillance

    • Focuses on borderline glycaemic control requiring ongoing diabetes risk assessment

    • One row per eligible person with borderline HbA1c requiring intervention'

  columns:
  - name: person_id
    description: Unique identifier for the person

    tests:
    - not_null
    - unique
  - name: age
    description: Age of the patient (17+)

    tests:
    - not_null
  - name: has_elevated_hba1c
    description: Boolean flag indicating if person has elevated HbA1c (46-47) with no recent monitoring

    tests:
    - not_null
    - accepted_values:

        values:
        - true
        - false
  - name: latest_hba1c_date
    description: Date of most recent HbA1c reading

    tests:
    - not_null
  - name: latest_hba1c_value
    description: Most recent HbA1c value (46-47 mmol/mol)

    tests:
    - not_null
  - name: all_hba1c_codes
    description: Array of all HbA1c concept codes for the patient
  - name: all_hba1c_displays
    description: Array of all HbA1c concept display terms for the patient
