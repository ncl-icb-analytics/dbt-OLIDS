version: 2

models:
  - name: dim_prog_ltc_lcs_cf_dm_66
    description: "Dimension model for LTC/LCS case finding DM_66. Patients with recent HbA1c readings between 42-46 mmol/mol requiring intervention."
    
    columns:
      - name: person_id
        description: "Unique identifier for the person"
        tests:
          - not_null
          - unique

      - name: age
        description: "Age of the patient (17+)"
        tests:
          - not_null

      - name: latest_hba1c_date
        description: "Date of most recent HbA1c reading within last 12 months"
        tests:
          - not_null

      - name: latest_hba1c_value
        description: "Most recent HbA1c value (42-46 mmol/mol)"
        tests:
          - not_null

      - name: all_hba1c_codes
        description: "Array of all HbA1c concept codes for the patient"

      - name: all_hba1c_displays
        description: "Array of all HbA1c concept display terms for the patient" 