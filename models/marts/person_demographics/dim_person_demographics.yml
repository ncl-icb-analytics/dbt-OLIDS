version: 2
models:
  - name: dim_person_demographics
    description: 'Mart: Person Demographics - Comprehensive demographic profiles for population health analytics.


      Population Scope:

      • All persons with recorded birth dates

      • Includes both active and inactive patients

      • One row per person with comprehensive demographic information


      Key Features:

      • Consolidated demographics from multiple dimension tables

      • Age, sex, ethnicity, language, and geographic information

      • Current practice registration and organisational hierarchy

      • Address and household linkage capability'
    columns:
      - name: person_id
        description: Unique identifier for the person
        tests:
          - not_null
          - unique
      
      - name: birth_date_approx
        description: Approximate date of birth (mid-month)
        tests:
          - not_null
      
      - name: birth_date_approx_end_of_month
        description: 'Approximate date of birth using the last day of the recorded birth month, passed through from dim_person_age. Complements birth_date_approx (mid-month).'
      - name: age_at_least
        description: 'Minimum possible age in full years, derived from dim_person_age using DOB as the last day of the birth month.'
