version: 2
sources:
- name: REFERENCE
  database: '"{{ env_var("SNOWFLAKE_TARGET_DATABASE", "DATA_LAB_OLIDS_UAT") }}"'
  schema: REFERENCE
  tables:
  - name: BNF_LATEST
    columns:
    - name: PRESENTATION_PACK_LEVEL
      data_type: VARCHAR
    - name: VMP_VMPP_AMP_AMPP
      data_type: VARCHAR
    - name: BNF_CODE
      data_type: VARCHAR
    - name: BNF_NAME
      data_type: VARCHAR
    - name: SNOMED_CODE
      data_type: VARCHAR
    - name: DM_D_PRODUCT_DESCRIPTION
      data_type: VARCHAR
    - name: STRENGTH
      data_type: VARCHAR
    - name: UNIT_OF_MEASURE
      data_type: VARCHAR
    - name: DM_D_PRODUCT_PACK_DESCRIPTION
      data_type: VARCHAR
    - name: PACK
      data_type: VARCHAR
    - name: SUB_PACK
      data_type: VARCHAR
    - name: VTM
      data_type: VARCHAR
    - name: VTM_NAME
      data_type: VARCHAR
  - name: CHILDHOOD_IMMS_CODES
    columns:
    - name: VACCINE
      data_type: VARCHAR
    - name: DOSE
      data_type: VARCHAR
    - name: PROPOSEDCLUSTER
      data_type: VARCHAR
    - name: SOURCECLUSTERID
      data_type: VARCHAR
    - name: SOURCECLUSTERDESCRIPTION
      data_type: VARCHAR
    - name: SNOMEDCONCEPTID
      data_type: NUMBER(38,0)
    - name: CODEDESCRIPTION
      data_type: VARCHAR
    - name: SOURCE
      data_type: VARCHAR
  - name: COMBINED_CODESETS
    columns:
    - name: CLUSTER_ID
      data_type: VARCHAR
    - name: CLUSTER_DESCRIPTION
      data_type: VARCHAR
    - name: CODE
      data_type: VARCHAR
    - name: CODE_DESCRIPTION
      data_type: VARCHAR
    - name: SOURCE
      data_type: VARCHAR
  - name: EFI2_SNOMED
    columns:
    - name: DEFICIT
      data_type: VARCHAR
    - name: SNOMEDCT_CONCEPTID
      data_type: VARCHAR
    - name: CTV3
      data_type: VARCHAR
    - name: PROVENANCE
      data_type: VARCHAR
    - name: CODEDESCRIPTION
      data_type: VARCHAR
    - name: TIMECONSTRAINTYEARS
      data_type: NUMBER(38,0)
    - name: AGELIMIT
      data_type: NUMBER(38,0)
    - name: OTHERINSTRUCTIONS
      data_type: VARCHAR
  - name: ETHNICITY_CODES
    columns:
    - name: CODE
      data_type: VARCHAR
    - name: TERM
      data_type: VARCHAR
    - name: CATEGORY
      data_type: VARCHAR
    - name: SUBCATEGORY
      data_type: VARCHAR
    - name: GRANULAR
      data_type: VARCHAR
  - name: LTC_LCS_CODES
    columns:
    - name: CLUSTER_ID
      data_type: VARCHAR
    - name: CLUSTER_DESCRIPTION
      data_type: VARCHAR
    - name: SNOMED_CODE
      data_type: VARCHAR
    - name: SNOMED_DESCRIPTION
      data_type: VARCHAR
  - name: MAPPED_CONCEPTS
    columns:
    - name: SOURCE_CODE_ID
      data_type: VARCHAR
    - name: ORIGINATING_SOURCE_TABLE
      data_type: VARCHAR
    - name: CONCEPT_ID
      data_type: VARCHAR
    - name: CONCEPT_SYSTEM
      data_type: VARCHAR
    - name: CONCEPT_CODE
      data_type: VARCHAR
    - name: CONCEPT_DISPLAY
      data_type: VARCHAR
    - name: CLUSTER_ID
      data_type: VARCHAR
    - name: CLUSTER_DESCRIPTION
      data_type: VARCHAR
    - name: CODE_DESCRIPTION
      data_type: VARCHAR
    - name: SOURCE
      data_type: VARCHAR
  - name: PCD_REFSET_LATEST
    columns:
    - name: CLUSTER_ID
      data_type: VARCHAR
    - name: CLUSTER_DESCRIPTION
      data_type: VARCHAR
    - name: SNOMED_CODE
      data_type: NUMBER(38,0)
    - name: SNOMED_CODE_DESCRIPTION
      data_type: VARCHAR
    - name: PCD_REFSET_ID
      data_type: VARCHAR
    - name: SERVICE_AND_RULESET
      data_type: VARCHAR
  - name: SOURCE_CONCEPT_ORIGINS
    columns:
    - name: SOURCE_CODE_ID_VALUE
      data_type: VARCHAR
    - name: ORIGINATING_SOURCE_TABLE
      data_type: VARCHAR
  - name: UKHSA_COVID_LATEST
    columns:
    - name: CODING_SCHEME
      data_type: VARCHAR
    - name: LIBRARY
      data_type: VARCHAR
    - name: CLUSTER_ID
      data_type: VARCHAR
    - name: CLUSTER_DESCRIPTION
      data_type: VARCHAR
    - name: SNOMED_CODE
      data_type: VARCHAR
    - name: SNOMED_DESCRIPTION
      data_type: VARCHAR
    - name: CODE_VALIDATED
      data_type: VARCHAR
  - name: UKHSA_FLU_LATEST
    columns:
    - name: CODING_SCHEME
      data_type: VARCHAR
    - name: CODE_LIBRARY
      data_type: VARCHAR
    - name: CODE_GROUP
      data_type: VARCHAR
    - name: CODE_GROUP_DESCRIPTION
      data_type: VARCHAR
    - name: SNOMED_CODE
      data_type: VARCHAR
    - name: SNOMED_DESCRIPTION
      data_type: VARCHAR
    - name: DATE_CREATED
      data_type: VARCHAR
    - name: VALIDATED_SCTID
      data_type: VARCHAR
    - name: EMIS_ASTRX
      data_type: VARCHAR
    - name: UNNAMED_9
      data_type: VARCHAR
    - name: TPP_ASTRX
      data_type: VARCHAR
  - name: VALPROATE_PROG_CODES
    columns:
    - name: CODE
      data_type: VARCHAR
    - name: CODE_CATEGORY
      data_type: VARCHAR
    - name: LOOKBACK_YEARS_OFFSET
      data_type: NUMBER(38,0)
    - name: VALPROATE_PRODUCT_TERM
      data_type: VARCHAR
- name: RULESETS
  database: '"{{ env_var("SNOWFLAKE_TARGET_DATABASE", "DATA_LAB_OLIDS_UAT") }}"'
  schema: REFERENCE
  tables:
  - name: BP_THRESHOLDS
    columns:
    - name: THRESHOLD_RULE_ID
      data_type: VARCHAR
    - name: PROGRAMME_OR_GUIDELINE
      data_type: VARCHAR
    - name: DESCRIPTION
      data_type: VARCHAR
    - name: PATIENT_GROUP
      data_type: VARCHAR
    - name: THRESHOLD_TYPE
      data_type: VARCHAR
    - name: SYSTOLIC_THRESHOLD
      data_type: NUMBER(38,0)
    - name: DIASTOLIC_THRESHOLD
      data_type: NUMBER(38,0)
    - name: OPERATOR
      data_type: VARCHAR
    - name: NOTES
      data_type: VARCHAR
  - name: EFI2_COEFFICIENTS
    columns:
    - name: MODEL_NAME
      data_type: VARCHAR
    - name: VARIABLE_NAME
      data_type: VARCHAR
    - name: VARIABLE_CATEGORY
      data_type: VARCHAR
    - name: COEFFICIENT
      data_type: NUMBER(14,12)
    - name: TRANSFORMED_COEFFICIENT
      data_type: NUMBER(4,3)
    - name: DESCRIPTION
      data_type: VARCHAR
    - name: VARIABLE_TYPE
      data_type: VARCHAR
    - name: MODEL_DESCRIPTION
      data_type: VARCHAR
  - name: EFI2_RULES
    columns:
    - name: CODE
      data_type: VARCHAR
    - name: DEFICIT
      data_type: VARCHAR
    - name: DEFICIT_TYPE
      data_type: VARCHAR
    - name: TIME_CONSTRAINT_DAYS
      data_type: NUMBER(4,0)
    - name: TIME_CONSTRAINT_TYPE
      data_type: VARCHAR
    - name: TIME_CONSTRAINT_DESCRIPTION
      data_type: VARCHAR
    - name: MIN_AGE
      data_type: NUMBER(2,0)
    - name: AGE_RESTRICTION_DESCRIPTION
      data_type: VARCHAR
    - name: CATEGORY_NAME
      data_type: VARCHAR
    - name: CATEGORY_ORDER
      data_type: NUMBER(1,0)
    - name: CATEGORY_RANGE_START
      data_type: NUMBER(2,0)
    - name: CATEGORY_RANGE_END
      data_type: NUMBER(4,1)
    - name: CATEGORY_DESCRIPTION
      data_type: VARCHAR
    - name: THRESHOLD_VALUE
      data_type: FLOAT
    - name: THRESHOLD_COMPARATOR
      data_type: VARCHAR
    - name: THRESHOLD_DESCRIPTION
      data_type: VARCHAR
    - name: THRESHOLD_UNIT
      data_type: VARCHAR
    - name: THRESHOLD_TYPE
      data_type: VARCHAR
    - name: READINGS_REQUIRED
      data_type: NUMBER(1,0)
    - name: READINGS_TIMEFRAME
      data_type: VARCHAR
    - name: SUPERSEDES
      data_type: VARCHAR
    - name: SUPERSEDED_BY
      data_type: VARCHAR
    - name: HIERARCHY_LEVEL
      data_type: NUMBER(1,0)
    - name: RESOLUTION_TEST
      data_type: VARCHAR
    - name: RESOLUTION_THRESHOLD
      data_type: NUMBER(2,0)
    - name: RESOLUTION_UNIT
      data_type: VARCHAR
    - name: RESOLUTION_GENDER_SPECIFIC
      data_type: BOOLEAN
    - name: RESOLUTION_MALE_THRESHOLD
      data_type: NUMBER(2,0)
    - name: RESOLUTION_FEMALE_THRESHOLD
      data_type: NUMBER(3,1)
    - name: VALIDATION_RULE
      data_type: VARCHAR
    - name: VALIDATION_DESCRIPTION
      data_type: VARCHAR
    - name: EFI2_COEFFICIENT
      data_type: NUMBER(6,5)
    - name: EFI2_TRANSFORMED_COEFFICIENT
      data_type: NUMBER(4,3)
    - name: EFI_PLUS_FALLS_COEFFICIENT
      data_type: NUMBER(8,7)
    - name: EFI_PLUS_CARE_HOME_COEFFICIENT
      data_type: NUMBER(8,7)
    - name: EFI_PLUS_MORTALITY_COEFFICIENT
      data_type: NUMBER(10,9)
    - name: EFI_PLUS_HOME_CARE_COEFFICIENT
      data_type: NUMBER(10,9)
    - name: SOURCE_INSTRUCTION
      data_type: VARCHAR
    - name: RULE_PRIORITY
      data_type: NUMBER(1,0)
  - name: IMMS_SCHEDULE_LATEST
    columns:
    - name: VACCINE_ORDER
      data_type: NUMBER(38,0)
    - name: VACCINE_ID
      data_type: VARCHAR
    - name: VACCINE_NAME
      data_type: VARCHAR
    - name: DOSE_NUMBER
      data_type: VARCHAR
    - name: DISEASES_PROTECTED_AGAINST
      data_type: VARCHAR
    - name: VACCINE_CODE
      data_type: VARCHAR
    - name: TRADE_NAME
      data_type: VARCHAR
    - name: ADMINISTRATION_ROUTE
      data_type: VARCHAR
    - name: SCHEDULE_AGE
      data_type: VARCHAR
    - name: MINIMUM_AGE_DAYS
      data_type: NUMBER(38,0)
    - name: MAXIMUM_AGE_DAYS
      data_type: NUMBER(38,0)
    - name: MINIMUM_INTERVAL_DAYS
      data_type: NUMBER(38,0)
    - name: NEXT_DOSE_VACCINE_ID
      data_type: VARCHAR
    - name: ELIGIBLE_AGE_FROM_DAYS
      data_type: NUMBER(38,0)
    - name: ELIGIBLE_AGE_TO_DAYS
      data_type: NUMBER(38,0)
    - name: ADMINISTERED_CLUSTER_ID
      data_type: VARCHAR
    - name: DRUG_CLUSTER_ID
      data_type: VARCHAR
    - name: DECLINED_CLUSTER_ID
      data_type: VARCHAR
    - name: CONTRAINDICATED_CLUSTER_ID
      data_type: VARCHAR
    - name: INCOMPATIBLE_CLUSTER_IDS
      data_type: VARCHAR
    - name: INELIGIBILITY_PERIOD_MONTHS
      data_type: NUMBER(38,0)
    - name: INCOMPATIBLE_EXPLANATION
      data_type: VARCHAR
- name: OLIDS_MASKED
  database: '"{{ env_var("SNOWFLAKE_SOURCE_DATABASE", "Data_Store_OLIDS_UAT") }}"'
  schema: OLIDS_MASKED
  tables:
  - name: ALLERGY_INTOLERANCE
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: encounter_id
      data_type: VARCHAR
    - name: clinical_status
      data_type: VARCHAR
    - name: verification_status
      data_type: VARCHAR
    - name: category
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_precision_concept_id
      data_type: VARCHAR
    - name: is_review
      data_type: BOOLEAN
    - name: medication_name
      data_type: VARCHAR
    - name: multi_lex_action
      data_type: VARCHAR
    - name: allergy_intolerance_core_concept_id
      data_type: VARCHAR
    - name: allergy_intolerance_raw_concept_id
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
    - name: is_confidential
      data_type: BOOLEAN
  - name: APPOINTMENT
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: organisation_id
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: practitioner_in_role_id
      data_type: VARCHAR
    - name: schedule_id
      data_type: VARCHAR
    - name: start_date
      data_type: TIMESTAMP_NTZ(9)
    - name: planned_duration
      data_type: NUMBER(38,0)
    - name: actual_duration
      data_type: NUMBER(38,0)
    - name: appointment_status_concept_id
      data_type: VARCHAR
    - name: patient_wait
      data_type: NUMBER(38,0)
    - name: patient_delay
      data_type: NUMBER(38,0)
    - name: date_time_booked
      data_type: TIMESTAMP_NTZ(9)
    - name: date_time_sent_in
      data_type: TIMESTAMP_NTZ(9)
    - name: date_time_left
      data_type: TIMESTAMP_NTZ(9)
    - name: cancelled_date
      data_type: TIMESTAMP_NTZ(9)
    - name: type
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: booking_method_concept_id
      data_type: VARCHAR
    - name: contact_mode_concept_id
      data_type: VARCHAR
  - name: APPOINTMENT_PRACTITIONER
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_record_id_user
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: appointment_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: DIAGNOSTIC_ORDER
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: encounter_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: parent_observation_id
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_precision_concept_id
      data_type: VARCHAR
    - name: result_value
      data_type: FLOAT
    - name: result_value_units
      data_type: VARCHAR
    - name: result_date
      data_type: DATE
    - name: result_text
      data_type: VARCHAR
    - name: is_problem
      data_type: BOOLEAN
    - name: is_review
      data_type: BOOLEAN
    - name: problem_end_date
      data_type: TIMESTAMP_NTZ(9)
    - name: diagnostic_order_core_concept_id
      data_type: VARCHAR
    - name: diagnostic_order_raw_concept_id
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: episodicity_concept_id
      data_type: VARCHAR
    - name: is_primary
      data_type: BOOLEAN
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
  - name: ENCOUNTER
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: appointment_id
      data_type: VARCHAR
    - name: episode_of_care_id
      data_type: VARCHAR
    - name: service_provider_organisation_id
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_precision_concept_id
      data_type: VARCHAR
    - name: location
      data_type: VARCHAR
    - name: encounter_core_concept_id
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: type
      data_type: VARCHAR
    - name: sub_type
      data_type: VARCHAR
    - name: admission_method
      data_type: VARCHAR
    - name: end_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: EPISODE_OF_CARE
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: organisation_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: episode_type_raw_concept_id
      data_type: VARCHAR
    - name: episode_status_raw_concept_id
      data_type: VARCHAR
    - name: episode_of_care_start_date
      data_type: TIMESTAMP_NTZ(9)
    - name: episode_of_care_end_date
      data_type: TIMESTAMP_NTZ(9)
    - name: care_manager_practitioner_id
      data_type: VARCHAR
  - name: FLAG
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: expired_date
      data_type: TIMESTAMP_NTZ(9)
    - name: is_active
      data_type: BOOLEAN
    - name: flag_text
      data_type: VARCHAR
  - name: LOCATION
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: name
      data_type: VARCHAR
    - name: type_code
      data_type: VARCHAR
    - name: type_desc
      data_type: VARCHAR
    - name: is_primary_location
      data_type: BOOLEAN
    - name: house_name
      data_type: VARCHAR
    - name: house_number
      data_type: VARCHAR
    - name: house_name_flat_number
      data_type: VARCHAR
    - name: street
      data_type: VARCHAR
    - name: address_line_1
      data_type: VARCHAR
    - name: address_line_2
      data_type: VARCHAR
    - name: address_line_3
      data_type: VARCHAR
    - name: address_line_4
      data_type: VARCHAR
    - name: postcode
      data_type: VARCHAR
    - name: managing_organisation_id
      data_type: VARCHAR
    - name: open_date
      data_type: DATE
    - name: close_date
      data_type: DATE
    - name: is_obsolete
      data_type: BOOLEAN
  - name: LOCATION_CONTACT
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: location_id
      data_type: VARCHAR
    - name: is_primary_contact
      data_type: BOOLEAN
    - name: ldsbusinessid_contacttype
      data_type: VARCHAR
    - name: contact_type_concept_id
      data_type: VARCHAR
    - name: value
      data_type: VARCHAR
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: MEDICATION_ORDER
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: organisation_id
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: medication_statement_id
      data_type: VARCHAR
    - name: encounter_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: observation_id
      data_type: VARCHAR
    - name: allergy_intolerance_id
      data_type: VARCHAR
    - name: diagnostic_order_id
      data_type: VARCHAR
    - name: referral_request_id
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_precision_concept_id
      data_type: VARCHAR
    - name: dose
      data_type: VARCHAR
    - name: quantity_value
      data_type: FLOAT
    - name: quantity_unit
      data_type: VARCHAR
    - name: duration_days
      data_type: NUMBER(38,0)
    - name: estimated_cost
      data_type: FLOAT
    - name: medication_name
      data_type: VARCHAR
    - name: medication_order_core_concept_id
      data_type: VARCHAR
    - name: bnf_reference
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: issue_method
      data_type: VARCHAR
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
    - name: is_confidential
      data_type: BOOLEAN
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: MEDICATION_STATEMENT
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: organisation_id
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: encounter_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: observation_id
      data_type: VARCHAR
    - name: allergy_intolerance_id
      data_type: VARCHAR
    - name: diagnostic_order_id
      data_type: VARCHAR
    - name: referral_request_id
      data_type: VARCHAR
    - name: ldsconceptid_authorisationtype
      data_type: VARCHAR
    - name: ldsconceptid_dateprecision
      data_type: VARCHAR
    - name: medication_statement_core_concept_id
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: cancellation_date
      data_type: TIMESTAMP_NTZ(9)
    - name: dose
      data_type: VARCHAR
    - name: quantity_value_description
      data_type: VARCHAR
    - name: quantity_value
      data_type: FLOAT
    - name: quantity_unit
      data_type: VARCHAR
    - name: medication_name
      data_type: VARCHAR
    - name: bnf_reference
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: issue_method
      data_type: VARCHAR
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
    - name: is_active
      data_type: BOOLEAN
    - name: is_confidential
      data_type: BOOLEAN
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: OBSERVATION
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: encounter_id
      data_type: VARCHAR
    - name: ldsbusinessid_practioner
      data_type: VARCHAR
    - name: parent_obervation_id
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_precision_concept_id
      data_type: VARCHAR
    - name: result_value
      data_type: FLOAT
    - name: result_value_unit_concept_id
      data_type: VARCHAR
    - name: result_date
      data_type: DATE
    - name: result_text
      data_type: VARCHAR
    - name: is_problem
      data_type: BOOLEAN
    - name: is_review
      data_type: BOOLEAN
    - name: problem_end_date
      data_type: TIMESTAMP_NTZ(9)
    - name: observation_raw_concept_id
      data_type: VARCHAR
    - name: observation_core_concept_id
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: episodicity_concept_id
      data_type: VARCHAR
    - name: is_primary
      data_type: BOOLEAN
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
    - name: is_problem_deleted
      data_type: BOOLEAN
    - name: is_confidential
      data_type: BOOLEAN
  - name: ORGANISATION
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_initial_data_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: organisation_code
      data_type: VARCHAR
    - name: assigning_authority_code
      data_type: VARCHAR
    - name: name
      data_type: VARCHAR
    - name: type_code
      data_type: VARCHAR
    - name: type_desc
      data_type: VARCHAR
    - name: postcode
      data_type: VARCHAR
    - name: parent_organisation_id
      data_type: VARCHAR
    - name: open_date
      data_type: DATE
    - name: close_date
      data_type: DATE
    - name: is_obsolete
      data_type: BOOLEAN
  - name: PATIENT
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: nhs_number_hash
      data_type: BINARY
    - name: sk_patient_id
      data_type: NUMBER(38,0)
    - name: title
      data_type: VARCHAR
    - name: gender_concept_id
      data_type: VARCHAR
    - name: registered_practice_id
      data_type: VARCHAR
    - name: birth_year
      data_type: NUMBER(38,0)
    - name: birth_month
      data_type: NUMBER(38,0)
    - name: death_year
      data_type: NUMBER(38,0)
    - name: death_month
      data_type: NUMBER(38,0)
    - name: is_confidential
      data_type: BOOLEAN
    - name: is_dummy_patient
      data_type: BOOLEAN
    - name: is_spine_sensitive
      data_type: BOOLEAN
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: PATIENT_ADDRESS
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: address_type_concept_id
      data_type: VARCHAR
    - name: post_code_hash
      data_type: BINARY
    - name: start_date
      data_type: TIMESTAMP_NTZ(9)
    - name: end_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: PATIENT_CONTACT
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: description
      data_type: VARCHAR
    - name: contact_type_concept_id
      data_type: VARCHAR
    - name: start_date
      data_type: DATE
    - name: end_date
      data_type: DATE
  - name: PATIENT_PERSON
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
  - name: PATIENT_REGISTERED_PRACTITIONER_IN_ROLE
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: organisation_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: episode_of_care_id
      data_type: VARCHAR
    - name: start_date
      data_type: TIMESTAMP_NTZ(9)
    - name: end_date
      data_type: TIMESTAMP_NTZ(9)
  - name: PERSON
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: primary_patient_id
      data_type: VARCHAR
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: PRACTITIONER
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: gmc_code
      data_type: VARCHAR
    - name: title
      data_type: VARCHAR
    - name: first_name
      data_type: VARCHAR
    - name: last_name
      data_type: VARCHAR
    - name: name
      data_type: VARCHAR
    - name: is_obsolete
      data_type: BOOLEAN
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: PRACTITIONER_IN_ROLE
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: organisation_id
      data_type: VARCHAR
    - name: role_code
      data_type: VARCHAR
    - name: role
      data_type: VARCHAR
    - name: date_employment_start
      data_type: TIMESTAMP_NTZ(9)
    - name: date_employment_end
      data_type: TIMESTAMP_NTZ(9)
  - name: PROCEDURE_REQUEST
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: encounter_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_precision_concept_id
      data_type: VARCHAR
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
    - name: description
      data_type: VARCHAR
    - name: procedure_core_concept_id
      data_type: VARCHAR
    - name: status_concept_id
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: is_confidential
      data_type: BOOLEAN
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: REFERRAL_REQUEST
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_data_initial_received_date
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_end_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: organisation_id
      data_type: VARCHAR
    - name: person_id
      data_type: VARCHAR
    - name: patient_id
      data_type: VARCHAR
    - name: encounter_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: unique_booking_reference_number
      data_type: VARCHAR
    - name: clinical_effective_date
      data_type: TIMESTAMP_NTZ(9)
    - name: date_precision_concept_id
      data_type: VARCHAR
    - name: requester_organisation_id
      data_type: VARCHAR
    - name: recipient_organisation_id
      data_type: VARCHAR
    - name: referral_request_priority_concept_id
      data_type: VARCHAR
    - name: referal_request_type_concept_id
      data_type: VARCHAR
    - name: mode
      data_type: VARCHAR
    - name: is_outgoing_referral
      data_type: BOOLEAN
    - name: is_review
      data_type: BOOLEAN
    - name: referral_request_core_concept_id
      data_type: VARCHAR
    - name: referral_request_raw_concept_id
      data_type: VARCHAR
    - name: age_at_event
      data_type: NUMBER(38,0)
    - name: age_at_event_baby
      data_type: NUMBER(38,0)
    - name: age_at_event_neonate
      data_type: NUMBER(38,0)
    - name: date_recorded
      data_type: TIMESTAMP_NTZ(9)
  - name: SCHEDULE
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: location_id
      data_type: VARCHAR
    - name: location
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
    - name: start_date
      data_type: TIMESTAMP_NTZ(9)
    - name: end_date
      data_type: TIMESTAMP_NTZ(9)
    - name: type
      data_type: VARCHAR
    - name: name
      data_type: VARCHAR
    - name: is_private
      data_type: BOOLEAN
  - name: SCHEDULE_PRACTITIONER
    columns:
    - name: lds_id
      data_type: VARCHAR
    - name: id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: record_owner_organisation_code
      data_type: VARCHAR
    - name: lds_datetime_data_acquired
      data_type: TIMESTAMP_NTZ(9)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
    - name: schedule_id
      data_type: VARCHAR
    - name: practitioner_id
      data_type: VARCHAR
- name: OLIDS_TERMINOLOGY
  database: '"{{ env_var("SNOWFLAKE_SOURCE_DATABASE", "Data_Store_OLIDS_UAT") }}"'
  schema: OLIDS_TERMINOLOGY
  tables:
  - name: CONCEPT
    columns:
    - name: id
      data_type: VARCHAR
    - name: lds_id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: system
      data_type: VARCHAR
    - name: code
      data_type: VARCHAR
    - name: display
      data_type: VARCHAR
    - name: is_mapped
      data_type: BOOLEAN
    - name: use_count
      data_type: NUMBER(38,0)
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)
  - name: CONCEPT_MAP
    columns:
    - name: id
      data_type: VARCHAR
    - name: lds_id
      data_type: VARCHAR
    - name: lds_business_key
      data_type: VARCHAR
    - name: lds_dataset_id
      data_type: VARCHAR
    - name: concept_map_id
      data_type: VARCHAR
    - name: source_code_id
      data_type: VARCHAR
    - name: target_code_id
      data_type: VARCHAR
    - name: is_primary
      data_type: BOOLEAN
    - name: equivalence
      data_type: VARCHAR
    - name: lds_start_date_time
      data_type: TIMESTAMP_NTZ(9)

- name: POPULATION_HEALTH
  database: '"{{ env_var("SNOWFLAKE_TARGET_DATABASE", "DATA_LAB_OLIDS_UAT") }}"'
  schema: REFERENCE
  tables:
  - name: PRACTICE_NEIGHBOURHOOD_LOOKUP
    columns:
    - name: PRACTICECODE
      data_type: VARCHAR
    - name: PRACTICENAME
      data_type: VARCHAR
    - name: LOCALAUTHORITY
      data_type: VARCHAR
    - name: PRACTICENEIGHBOURHOOD
      data_type: VARCHAR
    - name: PCNCODE
      data_type: VARCHAR
  - name: FLU_CAMPAIGN_DATES
    columns:
    - name: CAMPAIGN_ID
      data_type: VARCHAR
    - name: RULE_GROUP_ID
      data_type: VARCHAR
    - name: DATE_TYPE
      data_type: VARCHAR
    - name: DATE_VALUE
      data_type: DATE
    - name: DESCRIPTION
      data_type: VARCHAR
  - name: FLU_CODE_CLUSTERS
    columns:
    - name: RULE_GROUP_ID
      data_type: VARCHAR
    - name: CLUSTER_ID
      data_type: VARCHAR
    - name: DATA_SOURCE_TYPE
      data_type: VARCHAR
    - name: DATE_QUALIFIER
      data_type: VARCHAR
    - name: CLUSTER_DESCRIPTION
      data_type: VARCHAR
  - name: FLU_PROGRAMME_LOGIC
    columns:
    - name: CAMPAIGN_ID
      data_type: VARCHAR
    - name: RULE_GROUP_ID
      data_type: VARCHAR
    - name: RULE_GROUP_NAME
      data_type: VARCHAR
    - name: RULE_TYPE
      data_type: VARCHAR
    - name: LOGIC_EXPRESSION
      data_type: VARCHAR
    - name: EXCLUSION_GROUPS
      data_type: VARCHAR
    - name: AGE_MIN_MONTHS
      data_type: NUMBER
    - name: AGE_MAX_YEARS
      data_type: NUMBER
    - name: BUSINESS_DESCRIPTION
      data_type: VARCHAR
    - name: TECHNICAL_DESCRIPTION
      data_type: VARCHAR
